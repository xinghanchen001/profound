"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6396],{6676:(e,t,r)=>{r.d(t,{K:()=>c});var n=r(54568),a=r(7620),i=r(97509),l=r(96642),s=r(94885);let o=(0,l.tv)({base:"absolute transform p-4 transition ease-out will-change-transform",variants:{position:{top:"-translate-x-1/2 -translate-y-full",bottom:"-translate-x-1/2 translate-y-full",left:"-translate-y-1/2 -translate-x-full",right:"-translate-y-1/2"}}});function c(e){let{children:t,x:r,y:l,position:c="top"}=e,d=(0,a.useRef)(null),u=(0,a.useMemo)(()=>{var e,t;let n=window.innerWidth,a=null!=(t=null==(e=d.current)?void 0:e.offsetWidth)?t:200;return"right"===c&&r>n-a?"left":"left"===c&&r<a?"right":c},[r,c,d]),m=s.wz?document.getElementById("tooltip-portal-root"):null;return m?(0,i.createPortal)((0,n.jsx)("div",{ref:d,className:o({position:u}),style:{top:0,left:0,transform:"translate(".concat(r,"px, ").concat(l,"px)"),willChange:"transform"},children:(0,n.jsx)("div",{className:"pointer-events-none overflow-hidden rounded-6 border border-fill-quaternary bg-fill-tooltip p-3 text-body-mini-regular text-text-primary shadow-high backdrop-blur-xs",children:t})}),m):null}},12995:(e,t,r)=>{r.d(t,{W:()=>s,h:()=>o});var n=r(54568);r(7620);var a=r(80900),i=r(12144),l=r(59572);function s(e){let{ticks:t,formatTick:r,className:a,xScale:s,tickClassName:o}=e,c=r||(e=>e instanceof Date?e.toLocaleDateString():String(e)),d=l.$.VIEW_WIDTH;return(0,n.jsx)("div",{className:(0,i.cn)("!text-body-micro-medium relative h-8 w-full select-none overflow-hidden px-1 pt-2 text-text-secondary",a),children:t.map((e,r)=>{let a;return a=s?s(e instanceof Date?e.getTime():"string"==typeof e?new Date(e).getTime():Number(e))/d*100:r/(t.length-1)*100,(0,n.jsx)("div",{className:(0,i.cn)("-translate-x-1/2 absolute transform whitespace-nowrap text-center",o),style:{left:"".concat(a,"%"),transform:100===a?"translateX(-50%)":"translateX(0)"},children:c(e)},"x-tick-".concat(r))})})}function o(e){let{ticks:t,className:r,yStatisticProps:l,tickClassName:s,isLoading:o=!1}=e;return(0,n.jsx)("div",{className:(0,i.cn)("!text-body-micro-medium flex h-full select-none flex-col justify-between border-fill-quaternary py-1 text-text-secondary",{"border-r border-b":!o,"border-b":o},r),children:t.map((e,t)=>(0,n.jsx)("div",{className:(0,i.cn)("pr-2 text-right",s),children:(0,n.jsx)(a.j,{value:e,...l,showTrend:!1})},"y-tick-".concat(t)))})}},29969:(e,t,r)=>{r.d(t,{HQ:()=>s,v1:()=>o,m1:()=>c.m});var n=r(41829),a=r(59891),i=r(7620),l=r(59572);function s(e){let{data:t,xDomain:r,yDomain:s,xType:o="linear",yType:c="linear",width:d=l.$.VIEW_WIDTH,height:u=l.$.VIEW_HEIGHT}=e;return(0,i.useMemo)(()=>{let{top:e,right:i,bottom:c,left:m}=l.$.PADDING,h=[m,d-i],x=[u-c,e];if(!t||0===t.length)return{xScale:"time"===o?(0,n.A)({domain:[new Date,new Date],range:h}):(0,a.A)({domain:[0,1],range:h}),yScale:(0,a.A)({domain:[0,1],range:x})};let f=r||(()=>{if("time"===o){let e=t.map(e=>e.x).filter(e=>void 0!==e);return[new Date(Math.min(...e)),new Date(Math.max(...e))]}let e=t.map(e=>e.x).filter(e=>void 0!==e);return[Math.min(...e),Math.max(...e)]})(),p=s||(()=>{let e=t.map(e=>e.y).filter(e=>void 0!==e),r=e.every(e=>e>=0&&e<=1),n=e.every(e=>e>=0&&e<=100)&&e.some(e=>e>1),a=Math.min(...e),i=Math.max(...e);if(r){let e=Math.max(.15*(i-a));a=Math.max(0,a-e),i=Math.min(1,i+e)}else if(n){let e=.15*(i-a);a=Math.max(0,a-e),i=Math.min(100,i+e)}else{let e=(i-a)*.15;a=0===a?0:Math.max(0,a-e),i+=e}return[a,i]})();return{xScale:"time"===o?(0,n.A)({domain:f,range:h}):(0,a.A)({domain:f,range:h}),yScale:(0,a.A)({domain:p,range:x})}},[t,r,s,o,c,d,u])}function o(){let[e,t]=(0,i.useState)({yAxisRange:"auto"});return{chartSettings:e,setChartYAxisRange:e=>{t(t=>({...t,yAxisRange:e}))},setChartSettings:t}}var c=r(79425)},39363:(e,t,r)=>{r.d(t,{S:()=>m});var n=r(54568),a=r(43794),i=r(50854),l=r(23180),s=r(7620),o=r(12144),c=r(96642);let d=(0,c.tv)({base:"flex h-6 w-max select-none items-center gap-2 rounded-6 text-body-small-medium",variants:{disabled:{false:"cursor-pointer",true:"cursor-not-allowed font-normal text-text-quaternary"},disableHover:{false:"hover:bg-control-hover"},disablePadding:{false:"px-1.5"},readOnly:{true:"pointer-events-none",false:"has-[[data-state]:focus-visible]:shadow-focus"}}},{twMerge:!1}),u=(0,c.tv)({base:"pointer-events-none flex min-h-[calc(3.25*var(--spacing))] min-w-[calc(3.25*var(--spacing))] appearance-none items-center justify-center rounded-4 border-[1.5px] border-fill-tertiary outline-none data-[state=checked]:border-fill-primary data-[state=checked]:bg-fill-primary",variants:{disabled:{true:"opacity-20"},color:{true:"data-[state=checked]:!bg-(--checkbox-color) data-[state=checked]:border-(--checkbox-color) data-[state=unchecked]:border-(--checkbox-color)"},readOnly:{true:"pointer-events-none"}}},{twMerge:!1}),m=(0,s.forwardRef)((e,t)=>{let{className:r,children:c,color:m,childrenWrapperClassName:h,checkboxClassName:x,style:f={},disableHover:p,disablePadding:v,readOnly:g,indeterminate:y,...b}=e,w=(0,s.useId)();return(0,n.jsxs)("label",{htmlFor:g?void 0:w,className:(0,o.cn)(d({disabled:b.disabled,disableHover:p,disablePadding:v,readOnly:g}),r),style:f,children:[(0,n.jsx)(l.bL,{id:w,ref:t,className:(0,o.cn)(u({disabled:b.disabled,color:!!m,readOnly:g}),x),style:m?{...f,"--checkbox-color":m}:f,...b,tabIndex:g?-1:0,children:(0,n.jsx)(l.C1,{className:"flex items-center justify-center text-fill-inverse",children:y?(0,n.jsx)(a.A,{className:"!h-2.5 !w-2.5"}):(0,n.jsx)(i.A,{className:"!h-2.5 !w-2.5"})})}),c&&(0,n.jsx)("div",{className:(0,o.cn)("flex grow gap-2 overflow-hidden",h),children:c})]})});m.displayName="Checkbox"},42583:(e,t,r)=>{r.d(t,{G:()=>o});var n=r(54568),a=r(7620),i=r(39363),l=r(5661),s=r(12144);function o(e){let{items:t,onToggleItem:r,className:o="",isLoading:c=!1,renderLegend:d,currentCompany:u}=e,[m,h]=(0,a.useState)(Object.fromEntries(t.map(e=>{var t;return[e.id,null==(t=e.visible)||t]}))),x=(0,a.useMemo)(()=>[...t].sort((e,t)=>u&&e.id===u.name?-1:u&&t.id===u.name||"Other"===e.id?1:"Other"===t.id?-1:0),[t,u]),f=(e,t)=>{r?r(e,t):h(r=>({...r,[e]:t}))},p=e=>{var t,n;return r?null==(t=e.visible)||t:null==(n=m[e.id])||n};return d&&!c?d({items:t,toggleItem:f,isVisible:p,sortedItems:x}):(0,n.jsxs)("div",{className:(0,s.cn)("flex flex-row flex-wrap items-center gap-x-2 gap-y-1",o),role:"group","aria-label":"Chart legend",children:[(c||!t.length)&&(0,n.jsx)(n.Fragment,{children:c&&t.length>0?t.map((e,t)=>(0,n.jsx)(l.E,{className:"h-6 w-20"},t)):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E,{className:"h-6 w-20"}),(0,n.jsx)(l.E,{className:"h-6 w-20"}),(0,n.jsx)(l.E,{className:"h-6 w-20"}),(0,n.jsx)(l.E,{className:"h-6 w-20"})]})}),!c&&x.map(e=>{let t=p(e);return(0,n.jsx)(i.S,{checked:t,onCheckedChange:t=>f(e.id,!0===t),color:e.color,childrenWrapperClassName:t?"text-text-primary":"text-text-quaternary",children:e.label},e.id)})]})}},50423:(e,t,r)=>{r.d(t,{V:()=>c});var n=r(54568),a=r(7620),i=r(5661),l=r(12144);function s(e){let{id:t,spacing:r=8,dotRadius:a=.5,dotColor:i="currentColor",dotOpacity:l=.15}=e;return(0,n.jsx)("pattern",{id:t,width:r,height:r,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",children:(0,n.jsx)("circle",{cx:r/2,cy:r/2,r:a,fill:i,opacity:l})})}var o=r(59572);function c(e){let{children:t,xAxis:r,yAxis:c,legend:d,tooltipLayer:u,labelsLayer:m,style:h,svgProps:{className:x,preserveAspectRatio:f,...p}={},showGrid:v=!0,isLoading:g=!1,chartContainerRef:y}=e,b=a.useId(),w="".concat(b,"-title"),j="".concat(b,"-desc"),N="".concat(b,"-grid-pattern"),E=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=E.current;if(!e)return;let t=()=>{let{width:t,height:r}=e.getBoundingClientRect();e.style.setProperty("--inverse-scale-x","".concat(o.$.VIEW_WIDTH/t)),e.style.setProperty("--inverse-scale-y","".concat(o.$.VIEW_HEIGHT/r))};t();let r=new ResizeObserver(t);return r.observe(e),()=>{r.disconnect()}},[]),(0,n.jsx)("div",{ref:E,className:"chart-layout relative h-full w-full flex-grow self-stretch overflow-hidden",role:"group","aria-hidden":"true",style:{"--viewbox-width":o.$.VIEW_WIDTH,"--viewbox-height":o.$.VIEW_HEIGHT,...h},children:(0,n.jsxs)("div",{className:"grid h-full w-full",style:{gridTemplateAreas:'\n            "yAxis chart"\n            ". xAxis"\n            "legend legend"\n          ',gridTemplateColumns:"auto 1fr",gridTemplateRows:"1fr auto auto"},children:[c&&(0,n.jsx)("div",{className:"flex items-center justify-end",style:{gridArea:"yAxis"},children:c}),r&&(0,n.jsx)("div",{className:"flex items-start justify-center overflow-hidden",style:{gridArea:"xAxis"},children:r}),d&&(0,n.jsx)("div",{className:"col-span-2 mt-2 flex items-start justify-start p-1 pt-0",style:{gridArea:"legend"},children:d}),(0,n.jsxs)("div",{className:"relative overflow-hidden",style:{gridArea:"chart"},ref:y,children:[g&&(0,n.jsx)(i.E,{className:"absolute inset-0",height:"100%",width:"100%"}),!g&&v&&(0,n.jsxs)("svg",{className:"absolute inset-0 h-full w-full",preserveAspectRatio:"none",children:[(0,n.jsx)("defs",{children:(0,n.jsx)(s,{id:N})}),(0,n.jsx)("rect",{width:"100%",height:"100%",fill:"url(#".concat(N,")"),style:{pointerEvents:"none"}})]}),(0,n.jsx)("svg",{role:"img","aria-labelledby":"".concat(w," ").concat(j),className:(0,l.cn)("relative h-full w-full overflow-visible",x),viewBox:"0 0 ".concat(o.$.VIEW_WIDTH," ").concat(o.$.VIEW_HEIGHT),preserveAspectRatio:f||"none",...p,children:t}),m&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0",children:m}),u&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 z-20",children:u})]})]})})}},79425:(e,t,r)=>{r.d(t,{m:()=>l});var n=r(12325),a=r(7620);let i=["#15B462","#44D1F4","#8B44F4","#F43131","#F444B9","#F4870A","#F5C60A","#B9F444"];function l(e){return(0,a.useMemo)(()=>{let t=(0,n.A)().domain(e).range(i);return e=>"Other"===e?"#888888":t(e)},[e])}},94885:(e,t,r)=>{r.d(t,{Bd:()=>n,L6:()=>i,S5:()=>l,wz:()=>a}),r(24338);let n=!0,a="undefined"!=typeof document,i=()=>{var e;return a&&(null==(e=document.activeElement)?void 0:e.matches('input:not([type]), input[type="text"], input[type="email"], input[type="password"], input[type="search"], input[type="url"], input[type="tel"], input[type="number"], input[type="date"], input[type="datetime-local"], input[type="month"], input[type="week"], input[type="time"], textarea, [contenteditable="true"], [contenteditable=""]'))};var l=function(e){return e.ACTIVE="active",e.DISABLED="disabled",e.DELETED="deleted",e}({})},96396:(e,t,r)=>{r.d(t,{b:()=>b,F:()=>w});var n=r(54568),a=r(4872),i=r(7620),l=r(56316),s=r(80900),o=r(12144),c=r(6676),d=r(29969),u=r(59572),m=r(50423),h=r(12684),x=r(32887);function f(e){let{data:t,stroke:r,strokeWidth:a=2,fill:i="none",dashed:l=!1}=e;return(0,n.jsx)("g",{children:(0,n.jsx)(x.A,{data:t,x:e=>e.x,y:e=>e.y,stroke:r,strokeWidth:a,strokeDasharray:l?"5,5":void 0,fill:i,curve:h.G,strokeLinejoin:"round",strokeLinecap:"round",shapeRendering:"geometricPrecision",vectorEffect:"non-scaling-stroke"})},JSON.stringify(t))}var p=r(12995),v=r(42583);function g(e){let{date:t,seriesValues:r,formatDate:a=e=>e instanceof Date?e.toLocaleDateString():String(e),yStatisticProps:l}=e,o={type:"number",decimals:1,showTrend:!1,animated:!1,...l||{}},c=(0,i.useMemo)(()=>[...r].filter(e=>void 0!==e.value).sort((e,t)=>{var r,n;return(null!=(r=t.value)?r:0)-(null!=(n=e.value)?n:0)}).map(e=>(0,n.jsxs)("div",{className:"flex min-w-44 items-center gap-2",children:[(0,n.jsx)("div",{className:"h-2 w-2 rounded-2",style:{backgroundColor:e.color}}),(0,n.jsx)("div",{className:"flex-grow text-body-small-medium text-text-secondary",children:e.label}),(0,n.jsx)(s.j,{value:e.value,className:"font-medium",...o,disableFormatting:!0})]},e.id)),[r,o]);return(0,n.jsxs)("div",{className:"relative flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"pb-1 font-medium text-body-small-medium text-text-primary",children:a(t)}),c]})}function y(e){return null}function b(e){let{data:t,x:r,legend:l,tooltipLayer:h,tooltipContent:x,showLegend:y=!1,yDomain:b,yStatisticProps:w,children:j,isLoading:N=!1,renderLegend:E,xAxisTickFormat:I,currentCompany:k}=e,D=(0,i.useRef)(null),M=!t||0===t.length,T=(0,i.useMemo)(()=>{let e=[];return i.Children.forEach(j,t=>{i.isValidElement(t)&&t.props&&Object.hasOwn(t.props,"id")&&e.push(t.props)}),e},[j]),A=(0,d.m1)(T.map(e=>e.id)),S=(0,i.useMemo)(()=>T.map(e=>{var n;return{...e,color:null!=(n=e.color)?n:A(e.id),points:t.map(t=>{let n=r(t),a=n instanceof Date?n.getTime():"string"==typeof n?new Date(n).getTime():Number(n);return{xValue:n,x:a,y:e.y(t),data:t}})}}),[t,r,T,A]),{visibleSeries:V,handleToggleSeries:W}=function(e){let[t,r]=(0,i.useState)(()=>{let t={};return e.forEach(e=>{!1===e.initialVisibility&&(t[e.id]=!0)}),t});return(0,i.useEffect)(()=>{r(t=>{let r={...t};return e.forEach(e=>{e.id in t||(r[e.id]=!1===e.initialVisibility)}),r})},[e]),{visibleSeries:(0,i.useMemo)(()=>({...Object.fromEntries(e.map(e=>[e.id,!t[e.id]]))}),[e,t]),handleToggleSeries:(e,t)=>{r(r=>({...r,[e]:!t}))}}}(T),C=S.flatMap(e=>V[e.id]?e.points:[]),L=S.filter(e=>V[e.id]),P=.05>(0,i.useMemo)(()=>{let e=C.map(e=>e.y);if(0===e.length)return 1;let t=Math.min(...e.filter(e=>void 0!==e));return Math.max(...e.filter(e=>void 0!==e))-t},[C]),H=(0,i.useMemo)(()=>{let e=w||{type:"number",decimals:0};return"percentage"===e.type&&P?{...e,decimals:Math.max(e.decimals||0,1)}:e},[w,P]),_=C.every(e=>e.xValue instanceof Date),{xScale:R,yScale:O}=(0,d.HQ)({data:C,xType:_?"time":"linear",width:u.$.VIEW_WIDTH,height:u.$.VIEW_HEIGHT,yDomain:b}),F=(0,i.useMemo)(()=>{if(0===C.length)return[];let e=[...new Set(C.map(e=>e.x))].sort((e,t)=>e-t),t=Math.max(1,Math.ceil(e.length/8));return e.filter((e,r)=>r%t==0).map(e=>_?new Date(e):e)},[C,_]),$=(0,i.useMemo)(()=>{var e,t;if(0===C.length)return[];let r=O.domain();if(!r||r.length<2)return[];let n=null!=(e=r[0])?e:0,a=((null!=(t=r[r.length-1])?t:1)-n)/4;return[...Array.from({length:5},(e,t)=>n+a*t)].reverse()},[C,O]),{formatXTick:B}={formatXTick:e=>e instanceof Date?e.toLocaleDateString(void 0,{month:"short",day:"numeric"}):e.toString(),formatYTick:e=>(0,n.jsx)(s.j,{value:e,...w,showTrend:!1})},G=(0,i.useMemo)(()=>S.map(e=>{var t;return{id:e.id,label:e.label,color:null!=(t=e.color)?t:A(e.id),visible:!1!==V[e.id]}}).sort((e,t)=>e.id.includes("current")?-1:+!!t.id.includes("current")),[S,V]),{tooltipData:z,setupTooltipListeners:X}=function(e){let[t,r]=(0,i.useState)(null),n=(0,i.useCallback)((n,a)=>{if(!n||0===e.length)return;let i=t=>{let i=n.getBoundingClientRect(),l=t.layerX/i.width*1e3,s=function(e,t,r){if(0===e.length)return null;let n=e.map(e=>e.x),a=Number.POSITIVE_INFINITY,i=null;for(let e of n){let n=Math.abs(r(e)-t);n<a&&(a=n,i=e)}return i}(e.flatMap(e=>e.points),l,a);if(null===s)return;let o=e.map(e=>{let t=function(e,t){if(0===e.length)return{xValue:0,x:0,y:0,data:{}};let r=Number.POSITIVE_INFINITY,n=e[0];for(let a of e){let e=Math.abs(a.x-t);e<r&&(r=e,n=a)}return null!=n?n:{xValue:0,x:0,y:0,data:{}}}(e.points,s);return{id:e.id,label:e.label,value:t.y,color:e.color,x:t.x,y:t.y}}),c=a(s),d=c/1e3*i.width+i.left;r({xValue:s,linePosition:c,screenPosition:{x:d,y:i.top+i.height/2},points:o})},l=e=>{if(!t)return;let a=n.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&r(null)},s=()=>{if(!(t&&n))return;let e=n.getBoundingClientRect(),i=a(t.xValue),l=i/1e3*e.width+e.left,s=e.top+e.height/2;r({...t,linePosition:i,screenPosition:{x:l,y:s}})};return n.addEventListener("mousemove",i),document.addEventListener("mousemove",l,!0),window.addEventListener("scroll",s,!0),()=>{n.removeEventListener("mousemove",i),document.removeEventListener("mousemove",l,!0),window.removeEventListener("scroll",s,!0)}},[e,t]);return{tooltipData:t,setupTooltipListeners:n,hideTooltip:()=>r(null)}}(L);(0,i.useEffect)(()=>{let e=D.current;if(e&&C.length>0)return X(e,R)},[C,L,R,X]);let Y=(0,n.jsx)(p.W,{ticks:F,formatTick:I||(e=>"string"==typeof e?e:B(e)),xScale:R,tickClassName:"first:translate-x-0"}),q=(0,n.jsx)(p.h,{ticks:$,yStatisticProps:H,isLoading:N||M}),U=l||y&&(0,n.jsx)(v.G,{items:G,onToggleItem:W,isLoading:N,renderLegend:E&&(e=>E({items:e.items,toggleItem:e.toggleItem,isVisible:e.isVisible,sortedItems:e.sortedItems})),currentCompany:k}),K=z&&(0,n.jsx)(g,{date:new Date(z.xValue),seriesValues:z.points,formatDate:_?e=>B(e instanceof Date?e:new Date(Number(e))):void 0,yStatisticProps:H}),Q=z&&x?x({date:new Date(z.xValue),xValue:z.xValue,points:z.points.map(e=>{var t,r;return{...e,original:(null==(r=L.find(t=>t.id===e.id))||null==(t=r.points.find(e=>e.x===z.xValue))?void 0:t.data)||{}}}),screenPosition:z.screenPosition,yStatisticProps:H}):K,J=z&&(0,n.jsx)("line",{x1:z.linePosition,y1:0,x2:z.linePosition,y2:u.$.VIEW_HEIGHT,stroke:"var(--color-text-secondary)",strokeWidth:1,strokeDasharray:"5,5"}),Z=h||z&&(0,n.jsx)(c.K,{x:z.screenPosition.x,y:z.screenPosition.y,position:"right",children:Q});return(0,n.jsx)(m.V,{xAxis:Y,yAxis:q,legend:U,isLoading:M,tooltipLayer:M?void 0:Z,description:"Line chart showing data trends across ".concat(L.length," series."),ariaLabel:"Line chart visualization",chartContainerRef:D,svgProps:{className:(0,o.cn)({"border-fill-quaternary border-b":!(M||N)})},children:(0,n.jsxs)(a.A,{children:[L.map(e=>(0,n.jsx)(f,{data:e.points.map(e=>({x:R(e.x),y:O(e.y)})),stroke:e.color||A(e.id),strokeWidth:e.strokeWidth||2,dashed:e.dashed},"line-".concat(e.id))),J]})})}function w(){let e=e=>(0,n.jsx)(b,{...e});return e.Series=e=>(0,n.jsx)(y,{...e}),e._chartType="line",e._chartName="Line Chart",e._chartIcon=l.Pyg,e}b.Series=y}}]);