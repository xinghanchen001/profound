(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2732],{19917:(e,t,a)=>{"use strict";a.d(t,{e:()=>n});var i=a(859),r=a(7620);function n(e){var t=(0,r.useState)(function(){return(0,i.CN)("function"==typeof e?e():e,!0)}),a=t[1];return[t[0],(0,r.useCallback)(function(e){a("function"==typeof e?(0,i.jM)(e):(0,i.CN)(e))},[])]}},23889:(e,t,a)=>{"use strict";a.d(t,{CitationsMetadataProvider:()=>d,Y:()=>l});var i=a(54568),r=a(73297),n=a(7620),o=a(43762),s=a(79429);let u=(0,n.createContext)(void 0),d=e=>{var t,a;let{children:d,initialCompetitionData:l}=e,{category:c}=(0,s.H)(),v=(0,o.n6)(),C=null!=(t=null==c?void 0:c.companies.flatMap(e=>e.is_owned?[]:e.owned_domains))?t:[],{data:f,isFetching:h,refetch:y}=(0,r.I)(v.dashboard.brand.citations.getCitationsMetadata.queryOptions({categoryId:null!=(a=null==c?void 0:c.id)?a:""},{staleTime:6e4,gcTime:3e5,initialData:l,enabled:!!(null==c?void 0:c.id)})),m=(0,n.useMemo)(()=>[...new Set([...(null!=f?f:{competition:[]}).competition,...C])],[f,C]);return(0,i.jsx)(u.Provider,{value:{citationsMetadata:null!=f?f:{competition:[]},isLoading:h,refetch:async()=>{await y()},allCompetitionUrls:m},children:d})},l=()=>{let e=(0,n.useContext)(u);if(!e)throw Error("useCitationsMetadata must be used within a CitationsMetadataProvider");return e}},43762:(e,t,a)=>{"use strict";a.d(t,{_K:()=>d,ce:()=>c,ef:()=>l,n6:()=>u,qV:()=>C,xh:()=>s});var i=a(11932),r=a(68512),n=a(9701),o=a(90438);let{TRPCProvider:s,useTRPC:u,useTRPCClient:d}=(0,n.dW)(),{TRPCProvider:l,useTRPC:c,useTRPCClient:v}=(0,n.dW)();function C(){return new i.E({defaultOptions:{queries:{staleTime:18e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:18e5},dehydrate:{serializeData:o.Ay.serialize,shouldDehydrateQuery:e=>(0,r.XS)(e)||"pending"===e.state.status},hydrate:{deserializeData:o.Ay.deserialize}}})}},60225:(e,t,a)=>{Promise.resolve().then(a.bind(a,79429)),Promise.resolve().then(a.bind(a,23889))},79429:(e,t,a)=>{"use strict";a.d(t,{CategoryProvider:()=>s,H:()=>u});var i=a(54568),r=a(7620),n=a(19917);let o=(0,r.createContext)(void 0),s=e=>{let{children:t,category:a}=e,[s,u]=(0,n.e)(()=>({category:a||null})),d=(0,r.useCallback)(e=>{u(t=>{t.category=e})},[u]);(0,r.useEffect)(()=>{a&&u(e=>{e.category=a})},[a,u]);let l=(0,r.useMemo)(()=>({...s,setCategory:d}),[s,d]);return(0,i.jsx)(o.Provider,{value:l,children:t})},u=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useCategoryContext must be used within a CategoryProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[859,3455,3297,587,8315,7358],()=>t(60225)),_N_E=e.O()}]);