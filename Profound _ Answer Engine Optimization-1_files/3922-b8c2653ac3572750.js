"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3922],{14192:(e,t,r)=>{r.d(t,{Hx:()=>f,OB:()=>a,R8:()=>i,V7:()=>p,Yz:()=>o,z3:()=>u});var l=r(7620),n={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function u(e){return`[nuqs] ${n[e]}
  See https://err.47ng.com/NUQS-${e}`}function a(e){if(0===e.size)return"";let t=[];for(let[r,l]of e.entries()){let e=r.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${l.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,e=>encodeURIComponent(e))}`)}return"?"+t.join("&")}var s=function(){try{if("undefined"==typeof localStorage)return!1;let e="nuqs-localStorage-test";localStorage.setItem(e,e);let t=localStorage.getItem(e)===e;if(localStorage.removeItem(e),!t)return!1}catch(e){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",e),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}();function o(e,...t){if(!s)return;let r=function(e,...t){return e.replace(/%[sfdO]/g,e=>{let r=t.shift();return"%O"===e&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}(e,...t);performance.mark(r);try{console.log(e,...t)}catch(e){console.log(r)}}function i(e,...t){s&&console.warn(e,...t)}var c=(0,l.createContext)({useAdapter(){throw Error(u(404))}});function f(e){return({children:t,...r})=>(0,l.createElement)(c.Provider,{...r,value:{useAdapter:e}},t)}function p(){let e=(0,l.useContext)(c);if(!("useAdapter"in e))throw Error(u(404));return e.useAdapter()}c.displayName="NuqsAdapterContext",s&&"undefined"!=typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==c&&console.error(u(303)),window.__NuqsAdapterContext=c)},83922:(e,t,r)=>{r.d(t,{IN:()=>w,cr:()=>y,GJ:()=>v,tU:()=>m,M1:()=>O,ZA:()=>q,ab:()=>N});var l=r(14192);function n(e,t,r){try{return e(t)}catch(e){return(0,l.R8)("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),t,e,r),null}}var u=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),a=new Map,s={history:"replace",scroll:!1,shallow:!0,throttleMs:u},o=new Set,i=0,c=null;function f(e,t,r,n){let i=null===t?null:r(t);return(0,l.Yz)("[nuqs queue] Enqueueing %s=%s %O",e,i,n),a.set(e,i),"push"===n.history&&(s.history="push"),n.scroll&&(s.scroll=!0),!1===n.shallow&&(s.shallow=!1),n.startTransition&&o.add(n.startTransition),s.throttleMs=Math.max(n.throttleMs??u,Number.isFinite(s.throttleMs)?s.throttleMs:0),i}function p(){return new URLSearchParams(location.search)}function h({getSearchParamsSnapshot:e=p,updateUrl:t,rateLimitFactor:r=1}){return null===c&&(c=new Promise((n,f)=>{if(!Number.isFinite(s.throttleMs)){(0,l.Yz)("[nuqs queue] Skipping flush due to throttleMs=Infinity"),n(e()),setTimeout(()=>{c=null},0);return}function p(){i=performance.now();let[r,p]=function({updateUrl:e,getSearchParamsSnapshot:t}){let r=t();if(0===a.size)return[r,null];let n=Array.from(a.entries()),i={...s},c=Array.from(o);for(let[e,t]of(a.clear(),o.clear(),s.history="replace",s.scroll=!1,s.shallow=!0,s.throttleMs=u,(0,l.Yz)("[nuqs queue] Flushing queue %O with options %O",n,i),n))null===t?r.delete(e):r.set(e,t);try{return function(e,t){let r=l=>{if(l===e.length)return t();let n=e[l];if(!n)throw Error("Invalid transition function");n(()=>r(l+1))};r(0)}(c,()=>{e(r,{history:i.history,scroll:i.scroll,shallow:i.shallow})}),[r,null]}catch(e){return console.error((0,l.z3)(429),n.map(([e])=>e).join(),e),[r,e]}}({updateUrl:t,getSearchParamsSnapshot:e});null===p?n(r):f(r),c=null}setTimeout(function(){let e=performance.now()-i,t=s.throttleMs,n=r*Math.max(0,Math.min(t,t-e));(0,l.Yz)("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",n,t),0===n?p():setTimeout(p,n)},0)})),c}var d=r(7620);function g(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),n(e.parse,r)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide(r){var l;return null!=(l=t(r))?l:e}}},withOptions(e){return{...this,...e}}}}var m=g({parse:e=>e,serialize:e=>"".concat(e)}),v=g({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});g({parse:e=>{let t=v.parse(e);return null===t?null:t-1},serialize:e=>v.serialize(e+1)}),g({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),g({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()});var y=g({parse:e=>"true"===e,serialize:e=>e?"true":"false"});function b(e,t){return e.valueOf()===t.valueOf()}function O(e){return g({parse:t=>e.includes(t)?t:null,serialize:e=>e.toString()})}function w(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",l=null!=(t=e.eq)?t:(e,t)=>e===t,u=encodeURIComponent(r);return g({parse:t=>""===t?[]:t.split(r).map((t,l)=>n(e.parse,t.replaceAll(u,r),"[".concat(l,"]"))).filter(e=>null!=e),serialize:t=>t.map(t=>(e.serialize?e.serialize(t):String(t)).replaceAll(r,u)).join(r),eq:(e,t)=>e===t||e.length===t.length&&e.every((e,r)=>l(e,t[r]))})}g({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:b}),g({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:b}),g({parse:e=>{let t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:b});var S=function(e){return{all:e=e||new Map,on:function(t,r){var l=e.get(t);l?l.push(r):e.set(t,[r])},off:function(t,r){var l=e.get(t);l&&(r?l.splice(l.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var l=e.get(t);l&&l.slice().map(function(e){e(r)}),(l=e.get("*"))&&l.slice().map(function(e){e(t,r)})}}}();function q(e){var t,r,s;let{history:o="replace",shallow:i=!0,scroll:c=!1,throttleMs:p=u,parse:g=e=>e,serialize:m=String,eq:v=(e,t)=>e===t,defaultValue:y,clearOnDefault:b=!0,startTransition:O}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{history:"replace",scroll:!1,shallow:!0,throttleMs:u,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!0,defaultValue:void 0},w=(0,l.V7)(),q=w.searchParams,z=(0,d.useRef)(null!=(t=null==q?void 0:q.get(e))?t:null),[N,j]=(0,d.useState)(()=>{var t;let r=a.get(e),l=void 0===r?null!=(t=null==q?void 0:q.get(e))?t:null:r;return null===l?null:n(g,l,e)}),M=(0,d.useRef)(N);(0,l.Yz)("[nuqs `%s`] render - state: %O, iSP: %s",e,N,null!=(r=null==q?void 0:q.get(e))?r:null),(0,d.useEffect)(()=>{var t;let r=null!=(t=null==q?void 0:q.get(e))?t:null;if(r===z.current)return;let u=null===r?null:n(g,r,e);(0,l.Yz)("[nuqs `%s`] syncFromUseSearchParams %O",e,u),M.current=u,z.current=r,j(u)},[null==q?void 0:q.get(e),e]),(0,d.useEffect)(()=>{function t(t){let{state:r,query:n}=t;(0,l.Yz)("[nuqs `%s`] updateInternalState %O",e,r),M.current=r,z.current=n,j(r)}return(0,l.Yz)("[nuqs `%s`] subscribing to sync",e),S.on(e,t),()=>{(0,l.Yz)("[nuqs `%s`] unsubscribing from sync",e),S.off(e,t)}},[e]);let k=(0,d.useCallback)(function(t){var r,l,n,u,a,s,d,g;let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z="function"==typeof t?t(null!=(l=null!=(r=M.current)?r:y)?l:null):t;(null!=(n=q.clearOnDefault)?n:b)&&null!==z&&void 0!==y&&v(z,y)&&(z=null);let N=f(e,z,m,{history:null!=(u=q.history)?u:o,shallow:null!=(a=q.shallow)?a:i,scroll:null!=(s=q.scroll)?s:c,throttleMs:null!=(d=q.throttleMs)?d:p,startTransition:null!=(g=q.startTransition)?g:O});return S.emit(e,{state:z,query:N}),h(w)},[e,o,i,c,p,O,w.updateUrl,w.getSearchParamsSnapshot,w.rateLimitFactor]);return[null!=(s=null!=N?N:y)?s:null,k]}var z={};function N(e){let{history:t="replace",scroll:r=!1,shallow:n=!0,throttleMs:a=u,clearOnDefault:s=!0,startTransition:o,urlKeys:i=z}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object.keys(e).join(","),p=(0,d.useMemo)(()=>Object.fromEntries(Object.keys(e).map(e=>{var t;return[e,null!=(t=i[e])?t:e]})),[c,JSON.stringify(i)]),g=(0,l.V7)(),m=g.searchParams,v=(0,d.useRef)({}),y=(0,d.useMemo)(()=>Object.fromEntries(Object.keys(e).map(t=>{var r;return[t,null!=(r=e[t].defaultValue)?r:null]})),[Object.values(e).map(e=>{let{defaultValue:t}=e;return t}).join(",")]),[b,O]=(0,d.useState)(()=>j(e,i,null!=m?m:new URLSearchParams).state),w=(0,d.useRef)(b);if((0,l.Yz)("[nuq+ `%s`] render - state: %O, iSP: %s",c,b,m),Object.keys(v.current).join("&")!==Object.values(p).join("&")){let{state:t,hasChanged:r}=j(e,i,m,v.current,w.current);r&&(w.current=t,O(t)),v.current=Object.fromEntries(Object.values(p).map(e=>{var t;return[e,null!=(t=null==m?void 0:m.get(e))?t:null]}))}(0,d.useEffect)(()=>{let{state:t,hasChanged:r}=j(e,i,m,v.current,w.current);r&&(w.current=t,O(t))},[Object.values(p).map(e=>"".concat(e,"=").concat(null==m?void 0:m.get(e))).join("&")]),(0,d.useEffect)(()=>{let t=Object.keys(e).reduce((t,r)=>(t[r]=t=>{var n,u;let{state:a,query:s}=t,{defaultValue:o}=e[r],i=p[r];w.current={...w.current,[r]:null!=(n=null!=a?a:o)?n:null},v.current[i]=s,(0,l.Yz)("[nuq+ `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O",c,i,a,o,w.current),u=w.current,(0,l.Yz)("[nuq+ `%s`] updateInternalState %O",c,u),w.current=u,O(u)},t),{});for(let r of Object.keys(e)){let e=p[r];(0,l.Yz)("[nuq+ `%s`] Subscribing to sync for `%s`",c,e),S.on(e,t[r])}return()=>{for(let r of Object.keys(e)){let e=p[r];(0,l.Yz)("[nuq+ `%s`] Unsubscribing to sync for `%s`",c,e),S.off(e,t[r])}}},[c,p]);let q=(0,d.useCallback)(function(u){var i,d,m,v,b,O,q,z,N,j,k,E,x,C,A;let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=Object.fromEntries(Object.keys(e).map(e=>[e,null])),R="function"==typeof u?null!=(i=u(M(w.current,y)))?i:Y:null!=u?u:Y;for(let[u,i]of((0,l.Yz)("[nuq+ `%s`] setState: %O",c,R),Object.entries(R))){let l=e[u],c=p[u];if(!l)continue;(null!=(m=null!=(d=I.clearOnDefault)?d:l.clearOnDefault)?m:s)&&null!==i&&void 0!==l.defaultValue&&(null!=(v=l.eq)?v:(e,t)=>e===t)(i,l.defaultValue)&&(i=null);let h=f(c,i,null!=(b=l.serialize)?b:String,{history:null!=(q=null!=(O=I.history)?O:l.history)?q:t,shallow:null!=(N=null!=(z=I.shallow)?z:l.shallow)?N:n,scroll:null!=(k=null!=(j=I.scroll)?j:l.scroll)?k:r,throttleMs:null!=(x=null!=(E=I.throttleMs)?E:l.throttleMs)?x:a,startTransition:null!=(A=null!=(C=I.startTransition)?C:l.startTransition)?A:o});S.emit(c,{state:i,query:h})}return h(g)},[c,t,n,r,a,o,p,g.updateUrl,g.getSearchParamsSnapshot,g.rateLimitFactor,y]);return[(0,d.useMemo)(()=>M(b,y),[b,y]),q]}function j(e,t,r,l,u){let s=!1,o=Object.keys(e).reduce((o,i)=>{var c,f,p,h;let d=null!=(c=null==t?void 0:t[i])?c:i,{parse:g}=e[i],m=a.get(d),v=void 0===m?null!=(f=null==r?void 0:r.get(d))?f:null:m;if(l&&u&&(null!=(p=l[d])?p:null)===v)return o[i]=null!=(h=u[i])?h:null,o;s=!0;let y=null===v?null:n(g,v,i);return o[i]=null!=y?y:null,l&&(l[d]=v),o},{});if(!s){let t=Object.keys(e),r=Object.keys(null!=u?u:{});s=t.length!==r.length||t.some(e=>!r.includes(e))}return{state:o,hasChanged:s}}function M(e,t){return Object.fromEntries(Object.keys(e).map(r=>{var l,n;return[r,null!=(n=null!=(l=e[r])?l:t[r])?n:null]}))}}}]);